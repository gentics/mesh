<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="dns-prefetch" href="//oss.maxcdn.com" />
<link rel="dns-prefetch" href="//ajax.googleapis.com" />

<title>Gentics Mesh React - Basics</title>
<meta name="description" content="">
<meta name="author" content="">
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Gentics Mesh React - Basics" />
<meta name="twitter:description" content="" />
<meta name="twitter:image:src" content="https://getmesh.io/assets/gentics-card.png" />

<meta property="og:title" content="Gentics Mesh React - Basics">
<meta property="og:url" content="https://getmesh.io/docs/guides/mesh-react/">
<meta property="og:description" content="">
<meta property="og:image" content="https://getmesh.io/assets/gentics-card.png">
<link rel="icon" href="../../../favicon.ico">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="shortcut icon" href="../../../assets/g_logo_small.png" type="image/png" />
<link href="../../../styles/docs.css" media="screen" rel="stylesheet">


<link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
    crossorigin="anonymous">
<script src="../../../js/GCM.min.js"></script>
<script>
    window.GCM.init('/js/GCM-config.json', 'en', 1, true);
</script>

<link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">

</head>

<body class="body-navbar-">
    <nav class="navbar navbar-default navbar--top">
    <div class="container-fluid">
        
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
                aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../">
                <img class="logo" src="../../../assets/gentics-mesh-logo.png" alt="Gentics Logo" />
            </a>
        </div>

        
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav"> 
                <li>
                    <a href="../../../features">Features</a>
                </li>
                <li>
                    <a href="../../../docs">Documentation</a>
                </li>
                <li>
                    <a href="../../../demo">Demo</a>
                </li>
                <li>
                    <a href="../../../services">Services</a>
                </li>
                <li>
                    <a href="../../../training">Trainings</a>
                </li>
                <li>
                    <a href="../../../premium-features">Premium Features</a>
                </li>
                
                <li>
                    <a class="btn btn-primary btn-download" href="../../../download">Download</a>
                </li>
            </ul>
        </div>
        
    </div>
    
</nav>


    
<div class="topsection-wrapper">
    <div class="topsection container">
        <div class="row">
            <div class="col-md-12">
                <h1>Gentics Mesh React - Basics</h1>
            </div>
        </div>
    </div>
</div>
 
  <div class="container docs-content">
    <div class="row">
      <div class="col-sm-12 col-md-push-9 col-md-3 hidden-xs hidden-sm">
        <div id="sidebar" data-spy="affix">
            
        </div>
      </div>
      <div class="col-sm-12 col-md-pull-3 col-md-9">
        <div class="toc hidden-md hidden-lg">
          <h2>Gentics Mesh React - Basics</h2>
          
        </div>
        <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_intro">Intro</a></li>
<li><a href="#_building_blocks_domain_model">Building Blocks / Domain Model</a></li>
<li><a href="#_step_1_frontend_app">Step 1 - Frontend App</a>
<ul class="sectlevel2">
<li><a href="#_routing">Routing</a></li>
<li><a href="#_navigation">Navigation</a></li>
<li><a href="#_category_view">Category View</a></li>
<li><a href="#_vehicle_view">Vehicle View</a></li>
</ul>
</li>
<li><a href="#_step_2_gentics_mesh">Step 2 - Gentics Mesh</a></li>
<li><a href="#_step_3_schemas">Step 3 - Schemas</a>
<ul class="sectlevel2">
<li><a href="#_vehicleimage">VehicleImage</a></li>
<li><a href="#_vehicle">Vehicle</a></li>
<li><a href="#_category">Category</a></li>
</ul>
</li>
<li><a href="#_step_4_contents">Step 4 - Contents</a>
<ul class="sectlevel2">
<li><a href="#_project">Project</a></li>
<li><a href="#_content">Content</a></li>
<li><a href="#_permissions">Permissions</a></li>
</ul>
</li>
<li><a href="#_step_5_graphql">Step 5 - GraphQL</a>
<ul class="sectlevel2">
<li><a href="#_contents">Contents</a></li>
<li><a href="#_navigation_2">Navigation</a></li>
</ul>
</li>
<li><a href="#_step_6_integration">Step 6 - Integration</a>
<ul class="sectlevel2">
<li><a href="#_api">API</a></li>
<li><a href="#_react_proxy">React Proxy</a></li>
<li><a href="#_content_2">Content</a></li>
<li><a href="#_images">Images</a></li>
<li><a href="#_navigation_3">Navigation</a></li>
</ul>
</li>
<li><a href="#_conclusion">Conclusion</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_intro">Intro</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this guide you will learn how to adapt a React application to use Gentics Mesh.</p>
</div>
<div class="paragraph">
<p>The application we will use is very basic and only consists of three different views which form a vehicle inventory.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../app-overview.png" alt="React App Vehicle Page"></span></p>
</div>
<div class="paragraph">
<p>The <strong>welcome page</strong> contains just a basic intro text and the navigation. The <strong>category overview</strong> page displays a list entries of the category. Initially we only display hardcoded contents and thus only the aircrafts category is displayed which contains a single vehicle. The last page provides the <strong>vehicle view</strong> of the selected vehicle.</p>
</div>
<div class="paragraph">
<p>Next Steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We will prepare the frontend app and set the views up.</p>
</li>
<li>
<p>Get Gentics Mesh ready and create our schemas.</p>
</li>
<li>
<p>Add contents and update the app to load JSON from the server.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_blocks_domain_model">Building Blocks / Domain Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In our app we use a few different data elements.</p>
</div>
<div class="paragraph">
<p>Each <code>Vehicle</code> has a <code>name</code>, <code>description</code>, <code>SKU</code>, <code>price</code>, <code>weight</code>, <code>stockLevel</code> and <code>image</code> field. Each <code>Category</code> with a <code>name</code> field can list multiple <code>Vehicles</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_frontend_app">Step 1 - Frontend App</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>guide-step-1</code> branch of the <a href="https://github.com/gentics/mesh-react-example">mesh-react-example</a> repository contains the example react app. The app was created using <code>create-react-app</code>. Bootstrap and <code>react-router-dom</code> were added along with the basic components and css which are needed for the views.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">git clone git@github.com:gentics/mesh-react-example.git
git checkout guide-step-1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Initially the content in the example is hard coded and not dynamic. The connection to Gentics Mesh will be added after a short introduction of the example code.</p>
</div>
<div class="paragraph">
<p>Sources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>App.jsx</code> - Setup of <code>react-router-dom</code> and rendering of navigation and content area.</p>
</li>
<li>
<p><code>Category.jsx</code> - Renders the vehicle overview which contains teasers for each vehicle in the category.</p>
</li>
<li>
<p><code>Content.jsx</code> - Handles the routing between category overview and vehicle detail view.</p>
</li>
<li>
<p><code>Navigation.jsx</code> - Renders the navigation which consists of all categories.</p>
</li>
<li>
<p><code>Vehicle.jsx</code> - Renders the detail view of a vehicle.</p>
</li>
<li>
<p><code>WelcomeScreen.jsx</code> - Renders the welcome screen content.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_routing">Routing</h3>
<div class="paragraph">
<p>The <code>Content.jsx</code> handles the dynamic routing. For paths other than <code>/</code> it will render the <code>WebrootContent</code> component. This component examines the current <code>location.pathname</code> to either render a <code>Vehicle</code> or a <code>Category</code> component. The content JSON data for each case is passed along.</p>
</div>
</div>
<div class="sect2">
<h3 id="_navigation">Navigation</h3>
<div class="paragraph">
<p>The <code>Navigation.jsx</code> renders the navigation by iterating over the response object. The layout of this JSON object already corresponds to the data which we will later on load from Gentics Mesh.</p>
</div>
<div class="paragraph">
<p>At this stage only one category will be listed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
    project: {
        rootNode: {
            children: {
                elements: [{
                    path:  "/aircrafts",
                    fields: {
                        name: "Aircrafts"
                    }
                }]
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html">  return (
    &lt;nav className="navbar navbar-default"&gt;
      &lt;div className="container-fluid"&gt;
        &lt;div className="navbar-header"&gt;
          &lt;Link className="navbar-brand" to="/"&gt;Home&lt;/Link&gt;
        &lt;/div&gt;

        &lt;ul className="nav navbar-nav"&gt;
          {navResponse &amp;&amp; navResponse.project.rootNode.children.elements.map(category =&gt; (
            &lt;NavElement key={category.uuid} category={category} /&gt;
          ))}
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/nav&gt;
  )</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_category_view">Category View</h3>
<div class="paragraph">
<p>The <code>Category.jsx</code> iterates over all children of the category to render the list view.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
    fields: {
        name: "Aircraft"
    },
    children: {
        elements: [{
            path: "/aircrafts/space-shuttle",
            fields: {
                vehicleImage: { path: "/images/sts.jpg" },
                name: "Space shuttle",
                SKU: 3,
                price: 192000000000,
                weight: 22700
            }
        }]
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vehicle_view">Vehicle View</h3>
<div class="paragraph">
<p>The <code>Vehicle.jsx</code> will use the hardcoded JSON data which was entered in the <code>Content.jsx</code> to render the detail view.
At this stage only the Space Shuttle will be listed in the Aircraft category.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
    fields: {
        name: "Space Shuttle",
        SKU: 3,
        price: 192000000000,
        weight: 22700,
        description: "The Space Shuttle was a partially reusable low Earth orbital spacecraft system operated by the U.S. National Aeronautics and Space Administration (NASA).",
        vehicleImage: { path: "/images/sts.jpg" }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_gentics_mesh">Step 2 - Gentics Mesh</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the container has been setup, start the docker container and login <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> using the user <code>admin</code> and the password that was auto-generated and printed on first startup.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">docker run -v mesh-graphdb:/graphdb -v mesh-uploads:/uploads -p 8080:8080 gentics/mesh</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also skip Step 3 if you want and use our demo instance which already contains the demo content.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">docker run -p 8080:8080 gentics/mesh-demo</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_schemas">Step 3 - Schemas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We need three different schemas for our inventory app. A <code>Vehicle</code>, <code>Category</code> and <code>VehicleImage</code> schema.</p>
</div>
<div class="paragraph">
<p>The schema controls what fields can be used in the content.</p>
</div>
<div class="paragraph">
<p>Possible field types are: <code>string</code>, <code>boolean</code>, <code>number</code> <code>date</code> <code>html</code> <code>binary</code>, <code>list</code>, <code>node</code>, <code>micronode</code>.</p>
</div>
<div class="paragraph">
<p>A content of a specific Schema is called a Node. Nodes can be nested, translated, moved, deleted, created, tagged. They are the central data element in Gentics Mesh.</p>
</div>
<div class="paragraph">
<p>You can create the three schemas in the admin area by using the provides JSON in the <code>JSON Editor</code>.</p>
</div>
<div class="sect2">
<h3 id="_vehicleimage">VehicleImage</h3>
<div class="paragraph">
<p>The <code>VehicleImage</code> nodes store the image data for each <code>Vehicle</code>. Additional fields could be added to store copyright information of <code>altText</code> data.</p>
</div>
<div class="paragraph">
<p>The <code>name</code> identifies the schema in the system.</p>
</div>
<div class="paragraph">
<p>The <code>displayField</code> controls what field should be used to display in the UI node list. In our case the name will be used to be displayed.</p>
</div>
<div class="paragraph">
<p>The <code>segmentField</code> controls which field should be used to identify the node for the webroot API. Nodes can be nested in each other and thus each node can provide a segment for path. This way it is possible to load nodes via a path resolving system.</p>
</div>
<div class="paragraph">
<p>For the images the <code>binary</code> field will provide the segment. This way the filename of the uploaded binary will be used. The image will be loadable via the <a href="https://demo.getmesh.io/api/v2/demo/webroot/images/sts.jpg?w=800"><code>/images/sts.jpg</code></a> path.</p>
</div>
<div class="paragraph">
<p>The <code>container</code> property controls whether the node can contain children. For images this is not needed but <code>folders</code> would need to be containers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">{
	"name": "vehicleImage",
	"displayField": "name",
	"segmentField": "image",
	"container": false,
	"fields": [
		{
			"name": "name",
			"label": "Name",
			"required": true,
			"type": "string"
		},
		{
			"name": "image",
			"label": "Image",
			"required": false,
			"type": "binary"
		}
	]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vehicle">Vehicle</h3>
<div class="paragraph">
<p>Next the Vehicle schema needs to be created. It contains the needed fields to store the information of a vehicle.</p>
</div>
<div class="paragraph">
<p>Each vehicle has a <code>name</code>, <code>weight</code>, <code>SKU</code>, <code>price</code>, <code>stockLevel</code>, <code>description</code>, <code>vehicleImage</code>.</p>
</div>
<div class="paragraph">
<p>The <code>vehicleImage</code> field of type <code>node</code> can store references to <code>VehicleImage</code> nodes. Once we create a vehicle we will use this field to pick a previously uploaded vehicle image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">{
	"name": "vehicle",
	"displayField": "name",
	"segmentField": "slug",
	"container": false,
	"fields": [
		{
			"name": "slug",
			"label": "Slug",
			"required": true,
			"type": "string"
		},
		{
			"name": "name",
			"label": "Name",
			"required": true,
			"type": "string"
		},
		{
			"name": "weight",
			"label": "Weight",
			"required": false,
			"type": "number"
		},
		{
			"name": "SKU",
			"label": "Stock Keeping Unit",
			"required": false,
			"type": "number"
		},
		{
			"name": "price",
			"label": "Price",
			"required": false,
			"type": "number"
		},
		{
			"name": "stocklevel",
			"label": "Stock Level",
			"required": false,
			"type": "number"
		},
		{
			"name": "description",
			"label": "Description",
			"required": false,
			"type": "html"
		},
		{
			"name": "vehicleImage",
			"label": "Vehicle Image",
			"required": false,
			"type": "node",
			"allow": [
				"vehicleImage"
			]
		}
	]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_category">Category</h3>
<div class="paragraph">
<p>Finally our project needs also to have categories for our vehicles. A category also acts as a folder and thus the <code>container</code> flag is set.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">{
	"name": "category",
	"displayField": "name",
	"segmentField": "slug",
	"container": true,
	"fields": [
		{
			"name": "name",
			"label": "Name",
			"required": true,
			"type": "string"
		},
		{
			"name": "slug",
			"label": "Slug",
			"required": true,
			"type": "string"
		}
	]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_contents">Step 4 - Contents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next we will add our content to Gentics Mesh. For this we need to create a new <strong>project</strong>, link the created <strong>schemas</strong> to it. Finally we create some <strong>contents</strong>.</p>
</div>
<div class="sect2">
<h3 id="_project">Project</h3>
<div class="paragraph">
<p>Open the admin menu and create a new project called <code>demo</code>.</p>
</div>
<div class="paragraph">
<p>The previously created schemas <code>category</code>,<code>vehicle</code>, <code>vehicleImage</code> must be linked to the project.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../project.png" alt="Project setup"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_content">Content</h3>
<div class="paragraph">
<p>Close the admin area and open the Demo project.</p>
</div>
<div class="sect3">
<h4 id="_images_folder">Images folder</h4>
<div class="paragraph">
<p>Create a new folder called <code>images</code>.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../images-folder.png" alt="Images folder"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_aircrafts_category">Aircrafts category</h4>
<div class="paragraph">
<p>Next we create the <code>Aircrafts</code> category node. Make sure to use the <code>category</code> schema type.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../aircrafts-category.png" alt="Aircrafts category"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_space_shuttle_image">Space Shuttle image</h4>
<div class="paragraph">
<p>Open the <code>Images</code> folder and create a new <code>VehicleImage</code> node. You can <a href="../sts.jpg">download the space shuttle image</a>.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../sts-vehicleimage.png" alt="STS VehicleImage"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_space_shuttle_vehicle">Space Shuttle vehicle</h4>
<div class="paragraph">
<p>Now it is time to create our vehicle. Open the Aircraft category and create a new <code>vehicle</code> node.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../sts-vehicle.png" alt="STS Vehicle"></span></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_permissions">Permissions</h3>
<div class="paragraph">
<p>Before we can read our data via GraphQL we need to assign the read permission to the newly created project. We need to apply the read permission <strong>recusively</strong> so that it will be applied to all created nodes. Otherwise we would need to deal with authentication in our frontend app.</p>
</div>
<div class="paragraph">
<p>By default all unauthenticated requests to Gentics Mesh will fall back to use the <code>anonymous user</code> and the assigned <code>anonymous role</code>. This is very useful if you just want to serve data publicly without any authentication. This mechanism can of course be turned off in the <code>mesh.yml</code> file.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../role-permissions.png" alt="Role Permissions"></span></p>
</div>
<div class="paragraph">
<p>Additionally we also need to grant read permission on the <code>demo</code> project itself.</p>
</div>
<div class="paragraph">
<p><span class="image img-responsive"><img src="../role-permissions2.png" alt="Role Project Permissions"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_5_graphql">Step 5 - GraphQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If everything went well you should now be able to load the space shuttle vehicle information via <a href="https://graphql.org/learn/">GraphQL</a>.</p>
</div>
<div class="paragraph">
<p>The GraphQL API of Gentics Mesh provides you with a great option to load the structured content you have just entered.</p>
</div>
<div class="sect2">
<h3 id="_contents">Contents</h3>
Open <a href="http://localhost:8080/api/v2/demo/graphql/browser/#query=%7B%0A%20%20node(path%3A%20%22%2Faircrafts%2Fspace-shuttle%22)%20%7B%0A%20%20%20%20fields%20%7B%0A%20%20%20%20%20%20...%20on%20vehicle%20%7B%0A%20%20%20%20%20%20%20%20name%0A%20%20%20%20%20%20%20%20weight%0A%20%20%20%20%20%20%20%20vehicleImage%20%7B%0A%20%20%20%20%20%20%20%20%20%20path%0A%20%20%20%20%20%20%20%20%20%20fields%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20...%20on%20vehicleImage%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dominantColor%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A" target="_blank">http://localhost:8080/api/v2/demo/graphql/browser</a> and check whether you get the data.
<div class="graphql-example" style="height: 0em"></div>
<div class="graphql-example" style="height: 36em">
{
  node(path: "/aircrafts/space-shuttle") {
    fields {
      ... on vehicle {
        name
        weight
        vehicleImage {
          path
          fields {
            ... on vehicleImage {
              image {
                dominantColor
              }
            }
          }
        }
      }
    }
  }
}
</div>
<div class="paragraph">
<p>Via GraphQL it is possible to load the JSON data for the content we have just entered. It is also possible to directly load related data. A good example for this is the loading of node references. In the example the <code>vehicleImage</code> will be loaded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_navigation_2">Navigation</h3>
<div class="paragraph">
<p>The top navigation of our app is generated by listing all categories. We can use GraphQL to load the tree structure and list all child nodes of the project which match the <code>category</code> schema.</p>
</div>
<a href="http://localhost:8080/api/v2/demo/graphql/browser/#query=query%20Navigation%20%7B%0A%20%20project%20%7B%0A%20%20%20%20rootNode%20%7B%0A%20%20%20%20%20%20children(filter%3A%20%7Bschema%3A%20%7Bis%3A%20category%7D%7D)%20%7B%0A%20%20%20%20%20%20%20%20elements%20%7B%0A%20%20%20%20%20%20%20%20%20%20uuid%0A%20%20%20%20%20%20%20%20%20%20path%0A%20%20%20%20%20%20%20%20%20%20fields%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20...%20on%20category%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A&operationName=Navigation" target="_blank">http://localhost:8080/api/v2/demo/graphql/browser</a>
<div class="graphql-example" style="height: 36em">
query Navigation {
  project {
    rootNode {
      children(filter: {schema: {is: category}}) {
        elements {
          uuid
          path
          fields {
            ... on category {
              name
            }
          }
        }
      }
    }
  }
}
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_6_integration">Step 6 - Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that we have added our content and know how to fetch the data we can update the React app to utilize the GraphQL API to load the contents.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also directly checkout the updated sources from the <code>guide-step-2</code> branch which contain all needed changes.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_api">API</h3>
<div class="paragraph">
<p>The interaction with the Gentics Mesh API is defined in the <code>api.js</code> file. The <code>getNavigation</code> function will invoke a GraphQL query which loads the navigation information.
Loading vehicle information and category overview data will be done using the <code>useWebroot</code> function.</p>
</div>
<div class="paragraph">
<p><a href="https://graphql.org/learn/queries/#fragments">GraphQL fragments</a> are used to structure the query and are generally useful when loading multi-level navigations.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In this example we are using hooks. If you want to know more, we recommend reading the <a href="https://reactjs.org/docs/hooks-intro.html">official introduction</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Define the needed information per level of your navigation and re-use the fragment to keep the GraphQL query well-arranged.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Add the <code>api.js</code> file to your <code>src</code> directory.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">api.js</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">import {useState, useEffect} from 'react';

export async function getNavigation() {
  return graphQl(`query Navigation {
    project {
      rootNode {
        children(filter: {schema: {is: category}}) {
          elements {
            uuid
            path
            fields {
              ... on category {
                name
              }
            }
          }
        }
      }
    }
  }`);
}

export function useWebroot(path) {
  return usePromise(() => graphQl(`
  query Webroot($path: String) {
    node(path: $path) {
      schema {
        name
      }
      ...category
      ...product
    }
  }
  ${categoryFragment}
  ${productFragment}
  `, {path}).then(response => response.node), [path])
}

const categoryFragment = `
fragment category on Node {
  fields {
    ... on category {
      name
    }
  }
  children {
    elements {
      uuid
      path
      fields {
        ... on vehicle {
          name
          weight
          description(linkType: SHORT)
          SKU
          price
          stocklevel
          vehicleImage {
            path
          }
        }
      }
    }
  }
}`

const productFragment = `
fragment product on Node {
  fields {
    ... on vehicle {
      name
      description(linkType: SHORT)
      SKU
      price
      weight
      stocklevel
      vehicleImage {
        path
      }
    }
  }
}`

export function usePromise(promiseFn, changes) {
  const [state, setState] = useState();

  useEffect(() => {
    promiseFn().then(setState)
  }, changes)

  return state;
}

function graphQl(query, variables) {
  return post(`/demo/graphql`, { query, variables }).then(response => response.data);
}

function post(path, data) {
  return fetch(`/api/v2${path}`, {
    body: JSON.stringify(data),
    method: 'POST'
  }).then(response => response.json());
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_react_proxy">React Proxy</h3>
<div class="paragraph">
<p>React scripts provide a great way to add API server to our development app by <a href="https://facebook.github.io/create-react-app/docs/proxying-api-requests-in-development">proxying API request</a>.</p>
</div>
<div class="paragraph">
<p>We just need to add the <code>proxy</code> field to our <code>package.json</code> file. This way the Gentics Mesh API will also be exposed in the React App development server.</p>
</div>
<div class="listingblock">
<div class="title">package.json</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">…
"proxy": "http://localhost:8080"
…</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In production we could either use an <a href="https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/">nginx proxy</a> or use <a href="https://getmesh.io/docs/references/#_cors">CORS</a> to utilize a different domain for our Gentics Mesh server.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_content_2">Content</h3>
<div class="paragraph">
<p>In the initial app we used pre-defined routing. Paths for <code>/aircrafts/space-shuttle</code> would return the vehicle node and <code>/aircrafts</code> would return category node.</p>
</div>
<div class="paragraph">
<p>We can use the path to load contents via GraphQL. We make use of this feature to retrieve the content data that has been stored in Gentics Mesh for the pathname that the react router provides.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Add the needed import and change the way the <code>WebrootContent</code> data is loaded.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Content.jsx</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">import { useWebroot } from './api';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Content.jsx</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">const WebrootContent = ({ location }) =&gt; {
  const node = useWebroot(location.pathname);
  if (!node) {
    return null;
  }
  const NodeComponent = NodeComponents[node.schema.name];
  return &lt;NodeComponent node={node} /&gt;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The schema name in the GraphQL response will be used to decide which component to render. The <code>NodeComponents</code> object maps the schema name to the react component to be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">const NodeComponents = {
  "category": Category,
  "vehicle": Vehicle
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_images">Images</h3>
<div class="paragraph">
<p>Originally the Space Shuttle image was loaded from the static files folder. The webroot API can be used to load uploaded binaries directly using the path. We don&#8217;t have to lookup any uuid.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The image URL has to be changed in the <code>Category.jsx</code> file for the teaser view and in the detailed view within the <code>Vehicle.jsx</code> file.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Category.jsx</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html">- &lt;img alt="" className="img-thumbnail" src={`${vehicle.fields.vehicleImage.path}?w=328`} /&gt;
+ &lt;img alt="" className="img-thumbnail" src={`/api/v2/demo/webroot${vehicle.fields.vehicleImage.path}?w=328`} /&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Vehicle.jsx</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html">- &lt;img className="img-thumbnail" src={`${node.fields.vehicleImage.path}`} alt="" /&gt;
+ &lt;img className="img-thumbnail" src={`/api/v2/demo/webroot/${node.fields.vehicleImage.path}`} alt="" /&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_navigation_3">Navigation</h3>
<div class="paragraph">
<p>Loading the navigation is also straightforward. The hardcoded <code>navResponse</code> object is replaced by the API call.</p>
</div>
<div class="paragraph">
<p>The <code>getNavigation</code> function in the <code>api.js</code> file will load a list of all found <code>category</code> nodes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Add the import and use the api to load the navigation.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Navigation.jsx</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">import { getNavigation, usePromise } from './api';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Navigation.jsx</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">const navResponse = usePromise(() =&gt; getNavigation(), []);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your app should now be able to load the content from Gentics Mesh. New categories and vehicles will now directly show up in you app. You can now for example alter the schema and add extra fields which can later on be used in your app.</p>
</div>
<div class="paragraph">
<p>More guides will follow in the future which will cover:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In depth content modelling</p>
</li>
<li>
<p>Authentication handling with Login, registration and password reset</p>
</li>
<li>
<p>Adding a custom search which uses Elasticsearch queries to filter and sort by</p>
</li>
<li>
<p>Staging content deployments and restructuring contents using branches</p>
</li>
<li>
<p>Event handling via websocket</p>
</li>
<li>
<p>Permission handling</p>
</li>
</ul>
</div>
</div>
</div>

        



        
      </div>
    </div>
  </div>


    <div class="footer">
    <a name="footer"></a>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h2>Keep in touch</h2>
                <p>Find us on Twitter
                    <a href="https://twitter.com/genticsmesh" target="_blank" rel="noopener noreferrer">@genticsmesh</a>
                </p>
                <p>Get help on
                    <a href="https://stackoverflow.com/questions/tagged/gentics-mesh" target="_blank" rel="noopener noreferrer">stackoverflow</a>
                </p>
                <p>Ask us anything on
                    <a href="https://gitter.im/gentics/mesh" target="_blank" rel="noopener noreferrer">Gitter</a>
                </p>
                <p>Dive into the code at
                    <a href="https://github.com/gentics/mesh" target="_blank" rel="noopener noreferrer">GitHub</a>
                </p>
            </div>
            <div class="col-md-6">
                <h2>Legal</h2>
                <p>Licensed under
                    <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer">Apache License v2.0</a> |
                    <a href="../../../imprint">Imprint</a>
                </p>
            </div>
        </div>
        <div class="row ending center">
            <p class="padding-top-25">Made in
                <a href="https://www.mercer.com/newsroom/2018-quality-of-living-survey.html" target="_blank" rel="noopener noreferrer">Vienna - the most livable city in the world</a> 
                <img src="../../../assets/noun_Wine_1032235.svg" height="24">
            </p>
        </div>
    </div>

       

        <div class="apa-consent-reset apa-consent-wrapper">


            <div class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-banner testOFF">

                <ul class="apa-consent-reset apa-consent-bannerContent">
                    <li class="apa-consent-reset">
                        <div class="apa-consent-reset apa-consent-bannerText">
                        </div>
                    </li>
                    <li class="apa-consent-reset apa-consent-buttonWrapperDetails">
                        <button class="apa-consent-reset apa-consent-button">
                            cookie-preferences
                        </button>
                    </li>
                    <li class="apa-consent-reset apa-consent-buttonWrapperAccept">
                        <button id="apa-consent-button-accept" class="apa-consent-reset apa-consent-button">
                            accept
                        </button>
                    </li>
                </ul>

                <div class="apa-consent-reset apa-consent-bgColorWhite apa-consent-boxShadow apa-consent-bannerButtonOFF">
                    <div class="apa-consent-reset apa-consent-bannerButtonOFFicon1 apa-consent-bgColor"></div>
                    <div class="apa-consent-reset apa-consent-bannerButtonOFFicon2 apa-consent-bgColor"></div>
                </div>

            </div>

            <div class="apa-consent-reset apa-consent-dialogWrapper testOFF">
                <div class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-dialog">
                    <div class="apa-consent-reset apa-consent-mobileScroller">

                        <div class="apa-consent-reset apa-consent-mobileClose"></div>

                        <div class="apa-consent-reset apa-consent-dialogInnerWidth apa-consent-dialogHeader">
                            <h3 class="apa-consent-reset apa-consent-H3">
                                Cookie Preferences
                            </h3>
                            <p class="apa-consent-reset apa-consent-P">
                                Choose if this website is only allowed to use functional cookies and/or marketing cookies.
                            </p>
                        </div>
                        <div class="apa-consent-reset apa-consent-dialogBodyWrapper">
                            <div class="apa-consent-reset apa-consent-dialogInnerWidth apa-consent-dialogBody">
                                <ul class="apa-consent-reset apa-consent-items">

                                </ul>
                            </div>
                        </div>
                        <div class="apa-consent-reset apa-consent-dialogInnerWidth apa-consent-dialogSubmit">
                            <button id="apa-constent-button-save-settings" class="apa-consent-reset apa-consent-button apa-consent-boxShadow">
                                save & close
                            </button>
                        </div>

                        <div class="apa-consent-reset apa-consent-bgColorWhite apa-consent-boxShadow apa-consent-dialogButtonOFF">
                            <div class="apa-consent-reset apa-consent-dialogButtonOFFicon1"></div>
                            <div class="apa-consent-reset apa-consent-dialogButtonOFFicon2 apa-consent-bgColor"></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


   <div  id="bannerButtonOpen" class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-bannerButtonON">
            <div class="apa-consent-reset apa-consent-bannerButtonONicon1 apa-consent-bgColorWhite"></div>
            <div class="apa-consent-reset apa-consent-bannerButtonONicon2 apa-consent-bgColorWhite"></div>
        </div>

        <div class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-dialogButtonON testOFF">
            <div class="apa-consent-reset apa-consent-dialogButtonONicon1 apa-consent-bgColorWhite"></div>
            <div class="apa-consent-reset apa-consent-dialogButtonONicon2 apa-consent-bgColorWhite"></div>
        </div>


     

        

            

    <ul style="display:none">
        <li id="prototypeAppEntry" class="apa-consent-reset apa-consent-item">
            <div class="apa-consent-reset apa-consent-itemSwitch">
                <span class="apa-consent-reset apa-consent-boxShadow"></span>
            </div>
            <div class="apa-consent-reset apa-consent-itemTitle">

            </div>
            <div class="apa-consent-reset apa-consent-itemText">

            </div>
            <div class="apa-consent-reset apa-consent-itemSubItems">
                <ul class="apa-consent-reset apa-consent-cookie-items">
                    <li id="prototypeAppEntryCookieItem" style="display:none" class="apa-consent-reset apa-consent-itemSubItem">
                        <div class="apa-consent-reset apa-consent-subItemTitle">
                            <div class="apa-consent-reset apa-consent-subItemSwitch"></div>
                            <span></span>
                        </div>
                        <div class="apa-consent-reset apa-consent-subItemText">
                            <p class="apa-consent-reset apa-consent-P"></p>
                        </div>
                    </li>
                </ul>
            </div>
        </li>

        <li id="prototypeAppEntryProtected" class="apa-consent-reset apa-consent-item">
            <div class="apa-consent-reset apa-consent-itemSwitch">
                <span class=" apa-consent-reset apa-consent-boxShadow"></span>
            </div>
            <div class="apa-consent-reset apa-consent-itemTitle apa-consent-itemTitleSwitch">
            </div>
            <div class="apa-consent-reset apa-consent-itemText">

            </div>
            <div class="apa-consent-reset apa-consent-itemSubItems">
                <ul class="apa-consent-reset apa-consent-cookie-items">

                    <li id="prototypeAppEntryProtectedCookieItem" style="display: none;" class="apa-consent-reset apa-consent-itemSubItem">
                        <div class="apa-consent-reset apa-consent-subItemTitle">
                            <div class="apa-consent-reset apa-consent-subItemSwitch"></div>
                            <span></span>
                        </div>
                        <div class="apa-consent-reset apa-consent-subItemText">
                            <p class="apa-consent-reset apa-consent-P"></p>
                        </div>
                    </li>
                </ul>
            </div>
        </li>

    </ul>


</div>

    
    <script
  src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
  crossorigin="anonymous"></script>

<script src="../../../js/bootstrap.min.js"></script>

<script
  src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"
  crossorigin="anonymous"></script>

<script src="../../../js/site.js"></script>

<script 
  src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"
  integrity="sha256-sHRX2PXOLRG+LQtTpvREFsWhMVu2AJnmzxpmogmddtM="
  crossorigin="anonymous"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script src="../../../js/docs.js"></script>
<script src="../../../js/sidebar.js"></script>
<script src="../../../js/GCM-banner.js"></script>
<script>
  var hasExample = jQuery(".graphql-example").length > 0;
  hasExample && document.write('<link rel="stylesheet" href="../../../graphiql/graphiql.css" /><script src="../../../graphiql/vendor/fetch.min.js">\x3C/script><script src="../../../graphiql/vendor/react-16.8.6.min.js">\x3C/script><script src="../../../graphiql/vendor/react-dom-16.8.6.min.js">\x3C/script><script src="../../../graphiql/graphiql.js">\x3C/script><script src="../../../graphiql/embedded.js">\x3C/script>');
</script>


       

        <div class="apa-consent-reset apa-consent-wrapper">


            <div class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-banner testOFF">

                <ul class="apa-consent-reset apa-consent-bannerContent">
                    <li class="apa-consent-reset">
                        <div class="apa-consent-reset apa-consent-bannerText">
                        </div>
                    </li>
                    <li class="apa-consent-reset apa-consent-buttonWrapperDetails">
                        <button class="apa-consent-reset apa-consent-button">
                            cookie-preferences
                        </button>
                    </li>
                    <li class="apa-consent-reset apa-consent-buttonWrapperAccept">
                        <button id="apa-consent-button-accept" class="apa-consent-reset apa-consent-button">
                            accept
                        </button>
                    </li>
                </ul>

                <div class="apa-consent-reset apa-consent-bgColorWhite apa-consent-boxShadow apa-consent-bannerButtonOFF">
                    <div class="apa-consent-reset apa-consent-bannerButtonOFFicon1 apa-consent-bgColor"></div>
                    <div class="apa-consent-reset apa-consent-bannerButtonOFFicon2 apa-consent-bgColor"></div>
                </div>

            </div>

            <div class="apa-consent-reset apa-consent-dialogWrapper testOFF">
                <div class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-dialog">
                    <div class="apa-consent-reset apa-consent-mobileScroller">

                        <div class="apa-consent-reset apa-consent-mobileClose"></div>

                        <div class="apa-consent-reset apa-consent-dialogInnerWidth apa-consent-dialogHeader">
                            <h3 class="apa-consent-reset apa-consent-H3">
                                Cookie Preferences
                            </h3>
                            <p class="apa-consent-reset apa-consent-P">
                                Choose if this website is only allowed to use functional cookies and/or marketing cookies.
                            </p>
                        </div>
                        <div class="apa-consent-reset apa-consent-dialogBodyWrapper">
                            <div class="apa-consent-reset apa-consent-dialogInnerWidth apa-consent-dialogBody">
                                <ul class="apa-consent-reset apa-consent-items">

                                </ul>
                            </div>
                        </div>
                        <div class="apa-consent-reset apa-consent-dialogInnerWidth apa-consent-dialogSubmit">
                            <button id="apa-constent-button-save-settings" class="apa-consent-reset apa-consent-button apa-consent-boxShadow">
                                save & close
                            </button>
                        </div>

                        <div class="apa-consent-reset apa-consent-bgColorWhite apa-consent-boxShadow apa-consent-dialogButtonOFF">
                            <div class="apa-consent-reset apa-consent-dialogButtonOFFicon1"></div>
                            <div class="apa-consent-reset apa-consent-dialogButtonOFFicon2 apa-consent-bgColor"></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


   <div  id="bannerButtonOpen" class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-bannerButtonON">
            <div class="apa-consent-reset apa-consent-bannerButtonONicon1 apa-consent-bgColorWhite"></div>
            <div class="apa-consent-reset apa-consent-bannerButtonONicon2 apa-consent-bgColorWhite"></div>
        </div>

        <div class="apa-consent-reset apa-consent-bgColor apa-consent-boxShadow apa-consent-dialogButtonON testOFF">
            <div class="apa-consent-reset apa-consent-dialogButtonONicon1 apa-consent-bgColorWhite"></div>
            <div class="apa-consent-reset apa-consent-dialogButtonONicon2 apa-consent-bgColorWhite"></div>
        </div>


     

        

            

    <ul style="display:none">
        <li id="prototypeAppEntry" class="apa-consent-reset apa-consent-item">
            <div class="apa-consent-reset apa-consent-itemSwitch">
                <span class="apa-consent-reset apa-consent-boxShadow"></span>
            </div>
            <div class="apa-consent-reset apa-consent-itemTitle">

            </div>
            <div class="apa-consent-reset apa-consent-itemText">

            </div>
            <div class="apa-consent-reset apa-consent-itemSubItems">
                <ul class="apa-consent-reset apa-consent-cookie-items">
                    <li id="prototypeAppEntryCookieItem" style="display:none" class="apa-consent-reset apa-consent-itemSubItem">
                        <div class="apa-consent-reset apa-consent-subItemTitle">
                            <div class="apa-consent-reset apa-consent-subItemSwitch"></div>
                            <span></span>
                        </div>
                        <div class="apa-consent-reset apa-consent-subItemText">
                            <p class="apa-consent-reset apa-consent-P"></p>
                        </div>
                    </li>
                </ul>
            </div>
        </li>

        <li id="prototypeAppEntryProtected" class="apa-consent-reset apa-consent-item">
            <div class="apa-consent-reset apa-consent-itemSwitch">
                <span class=" apa-consent-reset apa-consent-boxShadow"></span>
            </div>
            <div class="apa-consent-reset apa-consent-itemTitle apa-consent-itemTitleSwitch">
            </div>
            <div class="apa-consent-reset apa-consent-itemText">

            </div>
            <div class="apa-consent-reset apa-consent-itemSubItems">
                <ul class="apa-consent-reset apa-consent-cookie-items">

                    <li id="prototypeAppEntryProtectedCookieItem" style="display: none;" class="apa-consent-reset apa-consent-itemSubItem">
                        <div class="apa-consent-reset apa-consent-subItemTitle">
                            <div class="apa-consent-reset apa-consent-subItemSwitch"></div>
                            <span></span>
                        </div>
                        <div class="apa-consent-reset apa-consent-subItemText">
                            <p class="apa-consent-reset apa-consent-P"></p>
                        </div>
                    </li>
                </ul>
            </div>
        </li>

    </ul>



    <script>
    window.GCM.apps.whenAllowed('google', function () {
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-69994739-1', 'auto');
        ga('send', 'pageview');
    });
</script>
    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Gentics Mesh",
        "url": "https://getmesh.io",
        "logo": "https://getmesh.io/assets/gentics-mesh-logo.png",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Laimgrubengasse 10",
            "addressRegion": "Vienna",
            "postalCode": "1060",
            "addressCountry": "Austria"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "telephone": "+43-1-7109904-300",
            "email": "support@gentics.com"
        },
        "sameAs": [
            "https://twitter.com/genticsmesh",
            "https://github.com/gentics/mesh",
            "https://stackoverflow.com/questions/tagged/genticsmesh"
        ]
    }
</script>
</body>

</html>
